<app-header></app-header>
<div class="detalhesFotografia">
    
    <!-- FOTO INDIVIDUAL -->
    <div class="photoIndv">
        <div *ngIf="photo && photo.descricao; else elseBlock">
            <div *ngIf="photo" class="photoExists">
                <img class="mainImg" src={{photo?.photo}} alt="{{photo.descricao}}">
            </div>
        </div>
        <ng-template #elseBlock>
            <div *ngIf="photo" class="photoExists">
                <img class="mainImg" src={{photo?.photo}} alt="{{photo.nome}}">
            </div>
        </ng-template>


        
    </div>
    

    <div class="infoFoto">

        <div class="info">
            <h1>{{photo?.nome}}</h1>
            <h2>{{photo?.descricao}}</h2>

            <div class="deleteConfirmation">
                Queres mesmo apagar esta foto?
                <button type="button" class="confirmYes" (click)="confirmDeletePhoto(photo?.id)">Sim</button>
                <button type="button" class="confirmNo" (click)="cancelDeletePhoto()">Não</button>
            </div>
        </div>



        <div class="opcoes">
            <div>
                <a class="dono" href="/perfil/{{nickname}}" tabindex="-1" >
                    <h4 class="dono" tabindex="0">{{photo?.dono}}</h4>
                    <button class="dropbtn" id="dropbtno" tabindex="-1"><img src="assets/user-profile.png" tabindex="-1"></button>
                </a>
            </div>
            
            
            <!-- BOTAO DE LIKE -->
            <div *ngIf="tipo == nolike" class = "botoes">
                <h4 class="likes" (click)="fazerLike()" tabindex="0" (keyup.enter)="fazerLike()" > {{nrLikes}} Likes</h4>
                <img src="assets/heart.png" id="botaoLike" (click)="fazerLike()"/>
            </div>
            <div *ngIf="tipo == like" class= "botoes">
                <h4 class="likes" (click)="tirarLike()" tabindex="0" (keyup.enter)="tirarLike()"> {{nrLikes}} Likes</h4>
                <img src="assets/likebutton.png" id="botaoLike" (click)="tirarLike()"/>
            </div>

            <!-- BOTAO DE FAVORITO -->
            <div *ngIf="tipoFav == nofav" class = "botoes">
                <h4 class="favs" (click)="fazerFav()" tabindex="0" (keyup.enter)="fazerFav()"> Favorita </h4>
                <img src="assets/favourite.png" id="botaoFav" (click)="fazerFav()" />
            </div>
            <div *ngIf="tipoFav == fav" class= "botoes">
                <h4 class="favs" (click)="tirarFav()" tabindex="0" (keyup.enter)="tirarFav()"> Favorita </h4>
                <img src="assets/favouriteChecked.png" id="botaoFav" (click)="tirarFav()"/>
            </div>

                    <!-- <img src="assets/favourite.png" /> <h4 class="favoritos">Botao Favorito</h4> -->
            <!-- BOTAO DE SHARE -->
            <div class = "botoes" >
                <div class="tooltip">
                      <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
                </div>
                <h4 class="partilhar" id="partilhar" (click)="copyMessage()" tabindex="0" (keyup.enter)="copyMessage()" > Partilhar </h4>
                <img src="assets/share.png" id="partilharFoto" (click)="copyMessage()"/>
                
            </div>
                
                <!--verificar se quem abriu a foto é dono dela e caso seja ter a hipotese de apagar-->

            <!-- BOTAO DE TRASH -->
            <div *ngIf="nickname == dono" class = "botoes" >
                <h4 class="eliminar" id="apagar" (click)="deletePhoto(photo?.id)" tabindex="0" (keyup.enter)="deletePhoto(photo?.id)" > Eliminar </h4>
                <img src="assets/trash.png" (click)="deletePhoto(photo?.id)"/>
            </div>        
            
    </div>

</div>

<div id='popup'>Copiado para a clipboard</div>

